'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*
 *  base64.js
 *
 *  Licensed under the BSD 3-Clause License.
 *    http://opensource.org/licenses/BSD-3-Clause
 *
 *  References:
 *    http://en.wikipedia.org/wiki/Base64
 */
;(function (global, factory) {
    (typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory(global) : typeof define === 'function' && define.amd ? define(factory) : factory(global);
})(typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : undefined, function (global) {
    'use strict';
    // existing version for noConflict()

    var _Base64 = global.Base64;
    var version = "2.4.3";
    // if node.js, we use Buffer
    var buffer;
    if (typeof module !== 'undefined' && module.exports) {
        try {
            buffer = require('./../../npm/buffer/index.js').Buffer;
        } catch (err) {}
    }
    // constants
    var b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
    var b64tab = function (bin) {
        var t = {};
        for (var i = 0, l = bin.length; i < l; i++) {
            t[bin.charAt(i)] = i;
        }return t;
    }(b64chars);
    var fromCharCode = String.fromCharCode;
    // encoder stuff
    var cb_utob = function cb_utob(c) {
        if (c.length < 2) {
            var cc = c.charCodeAt(0);
            return cc < 0x80 ? c : cc < 0x800 ? fromCharCode(0xc0 | cc >>> 6) + fromCharCode(0x80 | cc & 0x3f) : fromCharCode(0xe0 | cc >>> 12 & 0x0f) + fromCharCode(0x80 | cc >>> 6 & 0x3f) + fromCharCode(0x80 | cc & 0x3f);
        } else {
            var cc = 0x10000 + (c.charCodeAt(0) - 0xD800) * 0x400 + (c.charCodeAt(1) - 0xDC00);
            return fromCharCode(0xf0 | cc >>> 18 & 0x07) + fromCharCode(0x80 | cc >>> 12 & 0x3f) + fromCharCode(0x80 | cc >>> 6 & 0x3f) + fromCharCode(0x80 | cc & 0x3f);
        }
    };
    var re_utob = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;
    var utob = function utob(u) {
        return u.replace(re_utob, cb_utob);
    };
    var cb_encode = function cb_encode(ccc) {
        var padlen = [0, 2, 1][ccc.length % 3],
            ord = ccc.charCodeAt(0) << 16 | (ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8 | (ccc.length > 2 ? ccc.charCodeAt(2) : 0),
            chars = [b64chars.charAt(ord >>> 18), b64chars.charAt(ord >>> 12 & 63), padlen >= 2 ? '=' : b64chars.charAt(ord >>> 6 & 63), padlen >= 1 ? '=' : b64chars.charAt(ord & 63)];
        return chars.join('');
    };
    var btoa = global.btoa ? function (b) {
        return global.btoa(b);
    } : function (b) {
        return b.replace(/[\s\S]{1,3}/g, cb_encode);
    };
    var _encode = buffer ? buffer.from && Uint8Array && buffer.from !== Uint8Array.from ? function (u) {
        return (u.constructor === buffer.constructor ? u : buffer.from(u)).toString('base64');
    } : function (u) {
        return (u.constructor === buffer.constructor ? u : new buffer(u)).toString('base64');
    } : function (u) {
        return btoa(utob(u));
    };
    var encode = function encode(u, urisafe) {
        return !urisafe ? _encode(String(u)) : _encode(String(u)).replace(/[+\/]/g, function (m0) {
            return m0 == '+' ? '-' : '_';
        }).replace(/=/g, '');
    };
    var encodeURI = function encodeURI(u) {
        return encode(u, true);
    };
    // decoder stuff
    var re_btou = new RegExp(['[\xC0-\xDF][\x80-\xBF]', '[\xE0-\xEF][\x80-\xBF]{2}', '[\xF0-\xF7][\x80-\xBF]{3}'].join('|'), 'g');
    var cb_btou = function cb_btou(cccc) {
        switch (cccc.length) {
            case 4:
                var cp = (0x07 & cccc.charCodeAt(0)) << 18 | (0x3f & cccc.charCodeAt(1)) << 12 | (0x3f & cccc.charCodeAt(2)) << 6 | 0x3f & cccc.charCodeAt(3),
                    offset = cp - 0x10000;
                return fromCharCode((offset >>> 10) + 0xD800) + fromCharCode((offset & 0x3FF) + 0xDC00);
            case 3:
                return fromCharCode((0x0f & cccc.charCodeAt(0)) << 12 | (0x3f & cccc.charCodeAt(1)) << 6 | 0x3f & cccc.charCodeAt(2));
            default:
                return fromCharCode((0x1f & cccc.charCodeAt(0)) << 6 | 0x3f & cccc.charCodeAt(1));
        }
    };
    var btou = function btou(b) {
        return b.replace(re_btou, cb_btou);
    };
    var cb_decode = function cb_decode(cccc) {
        var len = cccc.length,
            padlen = len % 4,
            n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0) | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0) | (len > 2 ? b64tab[cccc.charAt(2)] << 6 : 0) | (len > 3 ? b64tab[cccc.charAt(3)] : 0),
            chars = [fromCharCode(n >>> 16), fromCharCode(n >>> 8 & 0xff), fromCharCode(n & 0xff)];
        chars.length -= [0, 0, 2, 1][padlen];
        return chars.join('');
    };
    var atob = global.atob ? function (a) {
        return global.atob(a);
    } : function (a) {
        return a.replace(/[\s\S]{1,4}/g, cb_decode);
    };
    var _decode = buffer ? buffer.from && Uint8Array && buffer.from !== Uint8Array.from ? function (a) {
        return (a.constructor === buffer.constructor ? a : buffer.from(a, 'base64')).toString();
    } : function (a) {
        return (a.constructor === buffer.constructor ? a : new buffer(a, 'base64')).toString();
    } : function (a) {
        return btou(atob(a));
    };
    var decode = function decode(a) {
        return _decode(String(a).replace(/[-_]/g, function (m0) {
            return m0 == '-' ? '+' : '/';
        }).replace(/[^A-Za-z0-9\+\/]/g, ''));
    };
    var noConflict = function noConflict() {
        var Base64 = global.Base64;
        global.Base64 = _Base64;
        return Base64;
    };
    // export Base64
    global.Base64 = {
        VERSION: version,
        atob: atob,
        btoa: btoa,
        fromBase64: decode,
        toBase64: encode,
        utob: utob,
        encode: encode,
        encodeURI: encodeURI,
        btou: btou,
        decode: decode,
        noConflict: noConflict
    };
    // if ES5 is available, make Base64.extendString() available
    if (typeof Object.defineProperty === 'function') {
        var noEnum = function noEnum(v) {
            return { value: v, enumerable: false, writable: true, configurable: true };
        };
        global.Base64.extendString = function () {
            Object.defineProperty(String.prototype, 'fromBase64', noEnum(function () {
                return decode(this);
            }));
            Object.defineProperty(String.prototype, 'toBase64', noEnum(function (urisafe) {
                return encode(this, urisafe);
            }));
            Object.defineProperty(String.prototype, 'toBase64URI', noEnum(function () {
                return encode(this, true);
            }));
        };
    }
    //
    // export Base64 to the namespace
    //
    if (global['Meteor']) {
        // Meteor.js
        Base64 = global.Base64;
    }
    // module.exports and AMD are mutually exclusive.
    // module.exports has precedence.
    if (typeof module !== 'undefined' && module.exports) {
        module.exports.Base64 = global.Base64;
    } else if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define([], function () {
            return global.Base64;
        });
    }
    // that's it!
    return { Base64: global.Base64 };
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2U2NC5qcyJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ3aW5kb3ciLCJfQmFzZTY0IiwiQmFzZTY0IiwidmVyc2lvbiIsImJ1ZmZlciIsInJlcXVpcmUiLCJCdWZmZXIiLCJlcnIiLCJiNjRjaGFycyIsImI2NHRhYiIsImJpbiIsInQiLCJpIiwibCIsImxlbmd0aCIsImNoYXJBdCIsImZyb21DaGFyQ29kZSIsIlN0cmluZyIsImNiX3V0b2IiLCJjIiwiY2MiLCJjaGFyQ29kZUF0IiwicmVfdXRvYiIsInV0b2IiLCJ1IiwicmVwbGFjZSIsImNiX2VuY29kZSIsImNjYyIsInBhZGxlbiIsIm9yZCIsImNoYXJzIiwiam9pbiIsImJ0b2EiLCJiIiwiX2VuY29kZSIsImZyb20iLCJVaW50OEFycmF5IiwiY29uc3RydWN0b3IiLCJ0b1N0cmluZyIsImVuY29kZSIsInVyaXNhZmUiLCJtMCIsImVuY29kZVVSSSIsInJlX2J0b3UiLCJSZWdFeHAiLCJjYl9idG91IiwiY2NjYyIsImNwIiwib2Zmc2V0IiwiYnRvdSIsImNiX2RlY29kZSIsImxlbiIsIm4iLCJhdG9iIiwiYSIsIl9kZWNvZGUiLCJkZWNvZGUiLCJub0NvbmZsaWN0IiwiVkVSU0lPTiIsImZyb21CYXNlNjQiLCJ0b0Jhc2U2NCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwibm9FbnVtIiwidiIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiZXh0ZW5kU3RyaW5nIiwicHJvdG90eXBlIl0sIm1hcHBpbmdzIjoiOzs7O0FBQ0E7Ozs7Ozs7OztBQVNBLENBQUUsV0FBVUEsTUFBVixFQUFrQkMsT0FBbEIsRUFBMkI7QUFDekIsWUFBT0MsT0FBUCx5Q0FBT0EsT0FBUCxPQUFtQixRQUFuQixJQUErQixPQUFPQyxNQUFQLEtBQWtCLFdBQWpELEdBQ01BLE9BQU9ELE9BQVAsR0FB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aEIsRUFBUDtBQUNILENBMU5DLENBQUQiLCJmaWxlIjoiYmFzZTY0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKlxuICogIGJhc2U2NC5qc1xuICpcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQlNEIDMtQ2xhdXNlIExpY2Vuc2UuXG4gKiAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKlxuICogIFJlZmVyZW5jZXM6XG4gKiAgICBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NFxuICovXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoZ2xvYmFsKVxuICAgICAgICA6IHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZFxuICAgICAgICA/IGRlZmluZShmYWN0b3J5KSA6IGZhY3RvcnkoZ2xvYmFsKVxufSgoXG4gICAgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZlxuICAgICAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93XG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxcbjogdGhpc1xuKSwgZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIC8vIGV4aXN0aW5nIHZlcnNpb24gZm9yIG5vQ29uZmxpY3QoKVxuICAgIHZhciBfQmFzZTY0ID0gZ2xvYmFsLkJhc2U2NDtcbiAgICB2YXIgdmVyc2lvbiA9IFwiMi40LjNcIjtcbiAgICAvLyBpZiBub2RlLmpzLCB3ZSB1c2UgQnVmZmVyXG4gICAgdmFyIGJ1ZmZlcjtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgIH1cbiAgICAvLyBjb25zdGFudHNcbiAgICB2YXIgYjY0Y2hhcnNcbiAgICAgICAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG4gICAgdmFyIGI2NHRhYiA9IGZ1bmN0aW9uKGJpbikge1xuICAgICAgICB2YXIgdCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGJpbi5sZW5ndGg7IGkgPCBsOyBpKyspIHRbYmluLmNoYXJBdChpKV0gPSBpO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9KGI2NGNoYXJzKTtcbiAgICB2YXIgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcbiAgICAvLyBlbmNvZGVyIHN0dWZmXG4gICAgdmFyIGNiX3V0b2IgPSBmdW5jdGlvbihjKSB7XG4gICAgICAgIGlmIChjLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHZhciBjYyA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIHJldHVybiBjYyA8IDB4ODAgPyBjXG4gICAgICAgICAgICAgICAgOiBjYyA8IDB4ODAwID8gKGZyb21DaGFyQ29kZSgweGMwIHwgKGNjID4+PiA2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBmcm9tQ2hhckNvZGUoMHg4MCB8IChjYyAmIDB4M2YpKSlcbiAgICAgICAgICAgICAgICA6IChmcm9tQ2hhckNvZGUoMHhlMCB8ICgoY2MgPj4+IDEyKSAmIDB4MGYpKVxuICAgICAgICAgICAgICAgICAgICsgZnJvbUNoYXJDb2RlKDB4ODAgfCAoKGNjID4+PiAgNikgJiAweDNmKSlcbiAgICAgICAgICAgICAgICAgICArIGZyb21DaGFyQ29kZSgweDgwIHwgKCBjYyAgICAgICAgICYgMHgzZikpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjYyA9IDB4MTAwMDBcbiAgICAgICAgICAgICAgICArIChjLmNoYXJDb2RlQXQoMCkgLSAweEQ4MDApICogMHg0MDBcbiAgICAgICAgICAgICAgICArIChjLmNoYXJDb2RlQXQoMSkgLSAweERDMDApO1xuICAgICAgICAgICAgcmV0dXJuIChmcm9tQ2hhckNvZGUoMHhmMCB8ICgoY2MgPj4+IDE4KSAmIDB4MDcpKVxuICAgICAgICAgICAgICAgICAgICArIGZyb21DaGFyQ29kZSgweDgwIHwgKChjYyA+Pj4gMTIpICYgMHgzZikpXG4gICAgICAgICAgICAgICAgICAgICsgZnJvbUNoYXJDb2RlKDB4ODAgfCAoKGNjID4+PiAgNikgJiAweDNmKSlcbiAgICAgICAgICAgICAgICAgICAgKyBmcm9tQ2hhckNvZGUoMHg4MCB8ICggY2MgICAgICAgICAmIDB4M2YpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciByZV91dG9iID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRkZdfFteXFx4MDAtXFx4N0ZdL2c7XG4gICAgdmFyIHV0b2IgPSBmdW5jdGlvbih1KSB7XG4gICAgICAgIHJldHVybiB1LnJlcGxhY2UocmVfdXRvYiwgY2JfdXRvYik7XG4gICAgfTtcbiAgICB2YXIgY2JfZW5jb2RlID0gZnVuY3Rpb24oY2NjKSB7XG4gICAgICAgIHZhciBwYWRsZW4gPSBbMCwgMiwgMV1bY2NjLmxlbmd0aCAlIDNdLFxuICAgICAgICBvcmQgPSBjY2MuY2hhckNvZGVBdCgwKSA8PCAxNlxuICAgICAgICAgICAgfCAoKGNjYy5sZW5ndGggPiAxID8gY2NjLmNoYXJDb2RlQXQoMSkgOiAwKSA8PCA4KVxuICAgICAgICAgICAgfCAoKGNjYy5sZW5ndGggPiAyID8gY2NjLmNoYXJDb2RlQXQoMikgOiAwKSksXG4gICAgICAgIGNoYXJzID0gW1xuICAgICAgICAgICAgYjY0Y2hhcnMuY2hhckF0KCBvcmQgPj4+IDE4KSxcbiAgICAgICAgICAgIGI2NGNoYXJzLmNoYXJBdCgob3JkID4+PiAxMikgJiA2MyksXG4gICAgICAgICAgICBwYWRsZW4gPj0gMiA/ICc9JyA6IGI2NGNoYXJzLmNoYXJBdCgob3JkID4+PiA2KSAmIDYzKSxcbiAgICAgICAgICAgIHBhZGxlbiA+PSAxID8gJz0nIDogYjY0Y2hhcnMuY2hhckF0KG9yZCAmIDYzKVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gY2hhcnMuam9pbignJyk7XG4gICAgfTtcbiAgICB2YXIgYnRvYSA9IGdsb2JhbC5idG9hID8gZnVuY3Rpb24oYikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsLmJ0b2EoYik7XG4gICAgfSA6IGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgcmV0dXJuIGIucmVwbGFjZSgvW1xcc1xcU117MSwzfS9nLCBjYl9lbmNvZGUpO1xuICAgIH07XG4gICAgdmFyIF9lbmNvZGUgPSBidWZmZXIgP1xuICAgICAgICBidWZmZXIuZnJvbSAmJiBVaW50OEFycmF5ICYmIGJ1ZmZlci5mcm9tICE9PSBVaW50OEFycmF5LmZyb21cbiAgICAgICAgPyBmdW5jdGlvbiAodSkge1xuICAgICAgICAgICAgcmV0dXJuICh1LmNvbnN0cnVjdG9yID09PSBidWZmZXIuY29uc3RydWN0b3IgPyB1IDogYnVmZmVyLmZyb20odSkpXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgICAgICB9XG4gICAgICAgIDogIGZ1bmN0aW9uICh1KSB7XG4gICAgICAgICAgICByZXR1cm4gKHUuY29uc3RydWN0b3IgPT09IGJ1ZmZlci5jb25zdHJ1Y3RvciA/IHUgOiBuZXcgIGJ1ZmZlcih1KSlcbiAgICAgICAgICAgICAgICAudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gICAgICAgIH1cbiAgICAgICAgOiBmdW5jdGlvbiAodSkgeyByZXR1cm4gYnRvYSh1dG9iKHUpKSB9XG4gICAgO1xuICAgIHZhciBlbmNvZGUgPSBmdW5jdGlvbih1LCB1cmlzYWZlKSB7XG4gICAgICAgIHJldHVybiAhdXJpc2FmZVxuICAgICAgICAgICAgPyBfZW5jb2RlKFN0cmluZyh1KSlcbiAgICAgICAgICAgIDogX2VuY29kZShTdHJpbmcodSkpLnJlcGxhY2UoL1srXFwvXS9nLCBmdW5jdGlvbihtMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtMCA9PSAnKycgPyAnLScgOiAnXyc7XG4gICAgICAgICAgICB9KS5yZXBsYWNlKC89L2csICcnKTtcbiAgICB9O1xuICAgIHZhciBlbmNvZGVVUkkgPSBmdW5jdGlvbih1KSB7IHJldHVybiBlbmNvZGUodSwgdHJ1ZSkgfTtcbiAgICAvLyBkZWNvZGVyIHN0dWZmXG4gICAgdmFyIHJlX2J0b3UgPSBuZXcgUmVnRXhwKFtcbiAgICAgICAgJ1tcXHhDMC1cXHhERl1bXFx4ODAtXFx4QkZdJyxcbiAgICAgICAgJ1tcXHhFMC1cXHhFRl1bXFx4ODAtXFx4QkZdezJ9JyxcbiAgICAgICAgJ1tcXHhGMC1cXHhGN11bXFx4ODAtXFx4QkZdezN9J1xuICAgIF0uam9pbignfCcpLCAnZycpO1xuICAgIHZhciBjYl9idG91ID0gZnVuY3Rpb24oY2NjYykge1xuICAgICAgICBzd2l0Y2goY2NjYy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgdmFyIGNwID0gKCgweDA3ICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCAxOClcbiAgICAgICAgICAgICAgICB8ICAgICgoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkgPDwgMTIpXG4gICAgICAgICAgICAgICAgfCAgICAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMikpIDw8ICA2KVxuICAgICAgICAgICAgICAgIHwgICAgICgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDMpKSxcbiAgICAgICAgICAgIG9mZnNldCA9IGNwIC0gMHgxMDAwMDtcbiAgICAgICAgICAgIHJldHVybiAoZnJvbUNoYXJDb2RlKChvZmZzZXQgID4+PiAxMCkgKyAweEQ4MDApXG4gICAgICAgICAgICAgICAgICAgICsgZnJvbUNoYXJDb2RlKChvZmZzZXQgJiAweDNGRikgKyAweERDMDApKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIGZyb21DaGFyQ29kZShcbiAgICAgICAgICAgICAgICAoKDB4MGYgJiBjY2NjLmNoYXJDb2RlQXQoMCkpIDw8IDEyKVxuICAgICAgICAgICAgICAgICAgICB8ICgoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkgPDwgNilcbiAgICAgICAgICAgICAgICAgICAgfCAgKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMikpXG4gICAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICBmcm9tQ2hhckNvZGUoXG4gICAgICAgICAgICAgICAgKCgweDFmICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCA2KVxuICAgICAgICAgICAgICAgICAgICB8ICAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBidG91ID0gZnVuY3Rpb24oYikge1xuICAgICAgICByZXR1cm4gYi5yZXBsYWNlKHJlX2J0b3UsIGNiX2J0b3UpO1xuICAgIH07XG4gICAgdmFyIGNiX2RlY29kZSA9IGZ1bmN0aW9uKGNjY2MpIHtcbiAgICAgICAgdmFyIGxlbiA9IGNjY2MubGVuZ3RoLFxuICAgICAgICBwYWRsZW4gPSBsZW4gJSA0LFxuICAgICAgICBuID0gKGxlbiA+IDAgPyBiNjR0YWJbY2NjYy5jaGFyQXQoMCldIDw8IDE4IDogMClcbiAgICAgICAgICAgIHwgKGxlbiA+IDEgPyBiNjR0YWJbY2NjYy5jaGFyQXQoMSldIDw8IDEyIDogMClcbiAgICAgICAgICAgIHwgKGxlbiA+IDIgPyBiNjR0YWJbY2NjYy5jaGFyQXQoMildIDw8ICA2IDogMClcbiAgICAgICAgICAgIHwgKGxlbiA+IDMgPyBiNjR0YWJbY2NjYy5jaGFyQXQoMyldICAgICAgIDogMCksXG4gICAgICAgIGNoYXJzID0gW1xuICAgICAgICAgICAgZnJvbUNoYXJDb2RlKCBuID4+PiAxNiksXG4gICAgICAgICAgICBmcm9tQ2hhckNvZGUoKG4gPj4+ICA4KSAmIDB4ZmYpLFxuICAgICAgICAgICAgZnJvbUNoYXJDb2RlKCBuICAgICAgICAgJiAweGZmKVxuICAgICAgICBdO1xuICAgICAgICBjaGFycy5sZW5ndGggLT0gWzAsIDAsIDIsIDFdW3BhZGxlbl07XG4gICAgICAgIHJldHVybiBjaGFycy5qb2luKCcnKTtcbiAgICB9O1xuICAgIHZhciBhdG9iID0gZ2xvYmFsLmF0b2IgPyBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWwuYXRvYihhKTtcbiAgICB9IDogZnVuY3Rpb24oYSl7XG4gICAgICAgIHJldHVybiBhLnJlcGxhY2UoL1tcXHNcXFNdezEsNH0vZywgY2JfZGVjb2RlKTtcbiAgICB9O1xuICAgIHZhciBfZGVjb2RlID0gYnVmZmVyID9cbiAgICAgICAgYnVmZmVyLmZyb20gJiYgVWludDhBcnJheSAmJiBidWZmZXIuZnJvbSAhPT0gVWludDhBcnJheS5mcm9tXG4gICAgICAgID8gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuIChhLmNvbnN0cnVjdG9yID09PSBidWZmZXIuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgPyBhIDogYnVmZmVyLmZyb20oYSwgJ2Jhc2U2NCcpKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIDogZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgcmV0dXJuIChhLmNvbnN0cnVjdG9yID09PSBidWZmZXIuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAgICAgPyBhIDogbmV3IGJ1ZmZlcihhLCAnYmFzZTY0JykpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgOiBmdW5jdGlvbihhKSB7IHJldHVybiBidG91KGF0b2IoYSkpIH07XG4gICAgdmFyIGRlY29kZSA9IGZ1bmN0aW9uKGEpe1xuICAgICAgICByZXR1cm4gX2RlY29kZShcbiAgICAgICAgICAgIFN0cmluZyhhKS5yZXBsYWNlKC9bLV9dL2csIGZ1bmN0aW9uKG0wKSB7IHJldHVybiBtMCA9PSAnLScgPyAnKycgOiAnLycgfSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvW15BLVphLXowLTlcXCtcXC9dL2csICcnKVxuICAgICAgICApO1xuICAgIH07XG4gICAgdmFyIG5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIEJhc2U2NCA9IGdsb2JhbC5CYXNlNjQ7XG4gICAgICAgIGdsb2JhbC5CYXNlNjQgPSBfQmFzZTY0O1xuICAgICAgICByZXR1cm4gQmFzZTY0O1xuICAgIH07XG4gICAgLy8gZXhwb3J0IEJhc2U2NFxuICAgIGdsb2JhbC5CYXNlNjQgPSB7XG4gICAgICAgIFZFUlNJT046IHZlcnNpb24sXG4gICAgICAgIGF0b2I6IGF0b2IsXG4gICAgICAgIGJ0b2E6IGJ0b2EsXG4gICAgICAgIGZyb21CYXNlNjQ6IGRlY29kZSxcbiAgICAgICAgdG9CYXNlNjQ6IGVuY29kZSxcbiAgICAgICAgdXRvYjogdXRvYixcbiAgICAgICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgICAgIGVuY29kZVVSSTogZW5jb2RlVVJJLFxuICAgICAgICBidG91OiBidG91LFxuICAgICAgICBkZWNvZGU6IGRlY29kZSxcbiAgICAgICAgbm9Db25mbGljdDogbm9Db25mbGljdFxuICAgIH07XG4gICAgLy8gaWYgRVM1IGlzIGF2YWlsYWJsZSwgbWFrZSBCYXNlNjQuZXh0ZW5kU3RyaW5nKCkgYXZhaWxhYmxlXG4gICAgaWYgKHR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIG5vRW51bSA9IGZ1bmN0aW9uKHYpe1xuICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTp2LGVudW1lcmFibGU6ZmFsc2Usd3JpdGFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX07XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbC5CYXNlNjQuZXh0ZW5kU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgICAgIFN0cmluZy5wcm90b3R5cGUsICdmcm9tQmFzZTY0Jywgbm9FbnVtKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZSh0aGlzKVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBTdHJpbmcucHJvdG90eXBlLCAndG9CYXNlNjQnLCBub0VudW0oZnVuY3Rpb24gKHVyaXNhZmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZSh0aGlzLCB1cmlzYWZlKVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBTdHJpbmcucHJvdG90eXBlLCAndG9CYXNlNjRVUkknLCBub0VudW0oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5jb2RlKHRoaXMsIHRydWUpXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvL1xuICAgIC8vIGV4cG9ydCBCYXNlNjQgdG8gdGhlIG5hbWVzcGFjZVxuICAgIC8vXG4gICAgaWYgKGdsb2JhbFsnTWV0ZW9yJ10pIHsgLy8gTWV0ZW9yLmpzXG4gICAgICAgIEJhc2U2NCA9IGdsb2JhbC5CYXNlNjQ7XG4gICAgfVxuICAgIC8vIG1vZHVsZS5leHBvcnRzIGFuZCBBTUQgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS5cbiAgICAvLyBtb2R1bGUuZXhwb3J0cyBoYXMgcHJlY2VkZW5jZS5cbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMuQmFzZTY0ID0gZ2xvYmFsLkJhc2U2NDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpeyByZXR1cm4gZ2xvYmFsLkJhc2U2NCB9KTtcbiAgICB9XG4gICAgLy8gdGhhdCdzIGl0IVxuICAgIHJldHVybiB7QmFzZTY0OiBnbG9iYWwuQmFzZTY0fVxufSkpO1xuIl19